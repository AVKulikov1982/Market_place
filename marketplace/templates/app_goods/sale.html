{% extends 'base.html' %}
{% load static %}
{% block content %}
  <div class="Middle Middle_top">
    <div class="Middle-top">
      <div class="wrap">
        <div class="Middle-header">
          <h1 class="Middle-title">Discounts
          </h1>
          <ul class="breadcrumbs Middle-breadcrumbs">
            <li class="breadcrumbs-item"><a href="{% url 'home' %}">home</a>
            </li>
            <li class="breadcrumbs-item breadcrumbs-item_current"><span>Discounts</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="Section">
      <div class="wrap">
        <div class="Cards Cards_blog">
          {% for discount in discounts %}
          <div class="Card"><a class="Card-picture" href="#"><img src="{% static 'assets/img/content/sale/product.png' %}" alt="product.png"/></a>
           {% if discount.start_date %}
            <div class="Card-date">
              <strong class="Card-date-number">{{discount.start_date|date:"d"}}
              </strong><span class="Card-date-month">{{discount.start_date|date:"M"}}</span>
            </div>
            {% endif %}
            {% if discount.end_date %}
            <div class="Card-date Card-date_to">
              <strong class="Card-date-number">{{discount.end_date|date:"d"}}
              </strong><span class="Card-date-month">{{discount.start_date|date:"M"}}</span>
            </div>
            {% endif %}
            <div class="Card-content">
              <strong class="Card-title"><a href="#">{{discount}} %</a>
              </strong>
              <div class="Card-description">{{ discount.description }}
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
{% if object_list.has_other_pages %} {# пагинация #}
  <div class="Pagination">
            <div class="Pagination-ins">
              {% if object_list.has_previous %}
                <a class="Pagination-element Pagination-element_prev" href="?{% if request.GET.sort %}sort={{ request.GET.sort }}&type={{ request.GET.type }}&{% endif %}page={{ object_list.previous_page_number }}">
                <img src="{% static 'assets/img/icons/prevPagination.svg' %}" alt="prevPagination.svg"/></a>
                  {% endif %}
                    {% for page_number in object_list.paginator.page_range %}
                      {% if page_number > object_list.number|add:-2 and page_number < object_list.number|add:2 %}
                        {% if object_list.number == page_number %}
                          <a class="Pagination-element Pagination-element_current" href="?{% if request.GET.sort %}sort={{ request.GET.sort }}&type={{ request.GET.type }}&{% endif %}page={{ page_number }}">
                          <span class="Pagination-text">{{ page_number }}</span></a>
                        {% else %}
                          <a class="Pagination-element" href="?{% if request.GET.sort %}sort={{ request.GET.sort }}&type={{ request.GET.type }}&{% endif %}page={{ page_number }}">
                          <span class="Pagination-text">{{ page_number }}</span></a>
                        {% endif %}
                      {% endif %}
                    {% endfor %}
                  {% if object_list.has_next %}
                   <a class="Pagination-element Pagination-element_prev" href="?{% if request.GET.sort %}sort={{ request.GET.sort }}&type={{ request.GET.type }}&{% endif %}page={{ object_list.next_page_number }}">
                   <img src="{% static 'assets/img/icons/nextPagination.svg' %}" alt="nextPagination.svg"/></a>
                 {% endif %}
                </div>
              </div>
            {% endif %} {# /пагинация #}
          </div>
  </div>

{% endblock %}